{"ast":null,"code":"import _defineProperty from\"C:/Users/Muhammadh Imdaadh/Desktop/2018/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/Muhammadh Imdaadh/Desktop/2018/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Muhammadh Imdaadh/Desktop/2018/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Muhammadh Imdaadh/Desktop/2018/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Muhammadh Imdaadh/Desktop/2018/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Muhammadh Imdaadh/Desktop/2018/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Nav,Navbar,NavDropdown,Form,Button}from\"react-bootstrap\";import axios from'axios';import Select from'react-select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={courseName:'',code:'',passMark:'',lecture:'',subjects:[],options:[],selectedSubjects:[]};export var createCourse=/*#__PURE__*/function(_Component){_inherits(createCourse,_Component);var _super=_createSuper(createCourse);function createCourse(props){var _this;_classCallCheck(this,createCourse);_this=_super.call(this,props);_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.onSubjectSelect=_this.onSubjectSelect.bind(_assertThisInitialized(_this));_this.state=initialState;return _this;}_createClass(createCourse,[{key:\"onChange\",value:function onChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"onSubjectSelect\",value:function onSubjectSelect(e){this.setState({selectedSubjects:e?e.map(function(item){return item.value;}):[]});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('https://afpaper2018.herokuapp.com/subject/getSubjects').then(function(response){_this2.setState({subjects:response.data},function(){console.log('subjects',_this2.state.subjects);var data=[];//options [] are captured\n_this2.state.subjects.map(function(item,index){var subject={value:item._id,label:item.name};data.push(subject);});_this2.setState({options:data});});});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();var course={name:this.state.courseName,code:this.state.code,passmark:this.state.passMark,lecturer_in_Charge:this.state.lecture,subjects:this.state.selectedSubjects};console.log('DATA TO SEND',course);axios.post('https://afpaper2018.herokuapp.com/course/Course',course).then(function(response){alert('Course Data successfully inserted');}).catch(function(error){console.log(error.message);alert(error.message);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{paddingTop:'30px'},children:/*#__PURE__*/_jsxs(Form,{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter Course Name\",name:\"courseName\",value:this.state.courseName,onChange:this.onChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Code\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter Course Code\",name:\"code\",value:this.state.code,onChange:this.onChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Pass mark\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter the Pass Mark\",name:\"passMark\",value:this.state.passMark,onChange:this.onChange})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Lecturer In Charge\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter the Lecturer In Charge\",name:\"lecture\",value:this.state.lecture,onChange:this.onChange})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Select the Subjects: \"}),/*#__PURE__*/_jsx(Select,{options:this.state.options,onChange:this.onSubjectSelect,className:\"basic-multi-select\",isMulti:true})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})});}}]);return createCourse;}(Component);export default createCourse;","map":{"version":3,"sources":["C:/Users/Muhammadh Imdaadh/Desktop/2018/FrontEnd/src/component/AddCourse/createCourse.jsx"],"names":["React","Component","Nav","Navbar","NavDropdown","Form","Button","axios","Select","initialState","courseName","code","passMark","lecture","subjects","options","selectedSubjects","createCourse","props","onChange","bind","onSubmit","onSubjectSelect","state","e","setState","target","name","value","map","item","get","then","response","data","console","log","index","subject","_id","label","push","preventDefault","course","passmark","lecturer_in_Charge","post","alert","catch","error","message","paddingTop"],"mappings":"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","sourcesContent":["import React, { Component} from 'react'\r\nimport {Nav, Navbar, NavDropdown, Form, Button} from \"react-bootstrap\";\r\nimport axios from 'axios';\r\nimport Select from 'react-select';\r\n\r\n\r\nconst initialState = {\r\n    courseName: '',\r\n    code: '',\r\n    passMark: '',\r\n    lecture: '',\r\n    subjects: [],\r\n    options: [],\r\n    selectedSubjects: []\r\n   \r\n    }\r\n\r\nexport class createCourse extends Component{\r\n\r\n constructor(props) {\r\n\r\n        super(props);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onSubjectSelect = this.onSubjectSelect.bind(this);\r\n        this.state = initialState;\r\n       \r\n        }\r\n\r\nonChange(e) {\r\nthis.setState({ [e.target.name]: e.target.value })\r\n}\r\n           \r\n           \r\nonSubjectSelect(e) {\r\nthis.setState({ selectedSubjects: e ? e.map(item => item.value) : [] });\r\n}\r\n\r\n\r\ncomponentDidMount() {\r\n    axios.get('https://afpaper2018.herokuapp.com/subject/getSubjects').then(response => {\r\n       this.setState({subjects: response.data}, ()=> {\r\n       console.log('subjects',this.state.subjects);\r\n       let data = []; //options [] are captured\r\n       this.state.subjects.map((item, index) => {\r\n     let subject = {\r\n                value: item._id,\r\n                label: item.name\r\n                    }\r\n                data.push(subject)\r\n                 });\r\n                this.setState({ options: data });\r\n       })\r\n\r\n    })\r\n}\r\n\r\nonSubmit(e) {\r\ne.preventDefault();\r\nlet course = {\r\nname: this.state.courseName,\r\ncode: this.state.code,\r\npassmark: this.state.passMark,\r\nlecturer_in_Charge: this.state.lecture,\r\nsubjects: this.state.selectedSubjects\r\n};\r\nconsole.log('DATA TO SEND', course)\r\naxios.post('https://afpaper2018.herokuapp.com/course/Course', course)\r\n.then(response => {\r\n   alert('Course Data successfully inserted')\r\n   })\r\n   .catch(error => {\r\n   console.log(error.message);\r\n   alert(error.message)\r\n   })\r\n}\r\n\r\n    render(){\r\n        return(\r\n    <div className='container' style={{paddingTop:'30px'}}>\r\n\r\n<Form onSubmit={this.onSubmit}>\r\n  <Form.Group controlId=\"formBasicEmail\">\r\n  <Form.Label>Name</Form.Label>\r\n\r\n         <Form.Control type=\"text\" \r\n         placeholder=\"Enter Course Name\"\r\n         name=\"courseName\"\r\n         value={this.state.courseName}\r\n         onChange={this.onChange}\r\n         />\r\n  </Form.Group>\r\n\r\n  <Form.Group controlId=\"formBasicPassword\">\r\n         <Form.Label>Code</Form.Label>\r\n                <Form.Control type=\"text\" \r\n                placeholder=\"Enter Course Code\" \r\n                name=\"code\"\r\n                value={this.state.code}\r\n                onChange={this.onChange}\r\n/>\r\n                </Form.Group>\r\n        \r\n\r\n  <Form.Group controlId=\"formBasicPassword\">\r\n    <Form.Label>Pass mark</Form.Label>\r\n    <Form.Control type=\"text\"\r\n     placeholder=\"Enter the Pass Mark\"\r\n     name=\"passMark\"\r\n     value={this.state.passMark}\r\n     onChange={this.onChange}/>\r\n  </Form.Group>\r\n  \r\n\r\n  <Form.Group controlId=\"formBasicPassword\">\r\n    <Form.Label>Lecturer In Charge</Form.Label>\r\n    <Form.Control type=\"text\" \r\n    placeholder=\"Enter the Lecturer In Charge\"\r\n    name=\"lecture\"\r\n    value={this.state.lecture}\r\n    onChange={this.onChange}\r\n     />\r\n  </Form.Group>\r\n\r\n  <Form.Group>\r\n    <Form.Label>Select the Subjects: </Form.Label>\r\n    <Select\r\n        options={this.state.options}\r\n        onChange={this.onSubjectSelect}\r\n        className=\"basic-multi-select\"\r\n        isMulti\r\n    />\r\n</Form.Group>\r\n\r\n \r\n\r\n  <Button variant=\"primary\" type=\"submit\">\r\n    Submit\r\n  </Button>\r\n</Form>\r\n</div>\r\n)\r\n}\r\n\r\n}\r\n\r\n\r\nexport default createCourse;"]},"metadata":{},"sourceType":"module"}